<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ç”µé’»ç‹¬ç«‹ç«™ - Facebook å¹¿å‘Šå…¨èƒ½æŒ‡æŒ¥ä¸­å¿ƒ</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
    <!-- 
        Chosen Palette: Professional Indigo & Emerald
        Structure: 
        - Header: Sticky branding
        - Nav: Scrollable sticky tabs
        - Content: 10 Modules (Strategy, Guide, Tools, Calculators)
        - Logic: Unified JS controller
    -->
    <style>
        /* Base Settings */
        body { font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif; background-color: #f8fafc; color: #1e293b; }
        
        /* Sticky Nav Styling */
        .sticky-nav-container { position: sticky; top: 0; z-index: 50; background: rgba(255, 255, 255, 0.95); backdrop-filter: blur(5px); border-bottom: 1px solid #e2e8f0; box-shadow: 0 2px 4px rgba(0,0,0,0.02); }
        .nav-scroll-wrapper { -webkit-overflow-scrolling: touch; scrollbar-width: none; }
        .nav-scroll-wrapper::-webkit-scrollbar { display: none; }
        
        /* Tab Styling */
        .nav-tab { @apply px-4 py-4 text-sm font-bold text-gray-500 border-b-2 border-transparent cursor-pointer whitespace-nowrap transition-all duration-200 select-none; }
        .nav-tab:hover { @apply text-indigo-600 bg-gray-50; }
        .nav-tab.active { @apply text-indigo-600 border-indigo-600 bg-indigo-50/50; }
        
        /* Content Animation */
        .tab-pane { @apply animate-fade-in p-4 md:p-8 max-w-7xl mx-auto; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(4px); } to { opacity: 1; transform: translateY(0); } }
        
        /* Component Styles */
        .card { @apply bg-white rounded-xl border border-gray-200 shadow-sm hover:shadow-md transition-shadow overflow-hidden; }
        .card-header { @apply px-6 py-4 border-b border-gray-100 font-bold text-lg text-gray-800 flex items-center justify-between bg-gray-50/50; }
        .card-body { @apply p-6; }
        
        .btn-primary { @apply bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-2 px-4 rounded-lg shadow-sm transition-transform active:scale-95 flex items-center justify-center gap-2; }
        .btn-danger { @apply bg-red-600 hover:bg-red-700 text-white font-bold py-2 px-4 rounded-lg shadow-sm transition-transform active:scale-95 flex items-center justify-center gap-2; }
        .btn-success { @apply bg-emerald-600 hover:bg-emerald-700 text-white font-bold py-2 px-4 rounded-lg shadow-sm transition-transform active:scale-95 flex items-center justify-center gap-2; }
        
        .input-field { @apply w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 outline-none transition-shadow; }
        .input-label { @apply block text-sm font-medium text-gray-700 mb-1; }
        
        /* Visual Diagram Helpers */
        .diagram-box { @apply border rounded-md p-3 my-2 text-sm relative; }
        .tree-line { @apply absolute border-l-2 border-gray-300 h-full left-[-12px] top-0; }
    </style>
</head>
<body class="flex flex-col min-h-screen">

    <!-- Header Area -->
    <div class="bg-white border-b border-gray-200 pt-6 pb-2 px-4 md:px-8">
        <div class="max-w-7xl mx-auto flex justify-between items-end">
            <div>
                <div class="text-xs font-bold text-indigo-600 uppercase tracking-wider mb-1">Facebook Ads Strategy</div>
                <h1 class="text-2xl md:text-3xl font-extrabold text-gray-900">ç”µé’»ç‹¬ç«‹ç«™ Â· å…¨èƒ½æŒ‡æŒ¥ä¸­å¿ƒ</h1>
            </div>
            <div class="hidden md:block text-right">
                <span class="inline-flex items-center px-3 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800">
                    v5.0 ç»ˆæä¼˜åŒ–ç‰ˆ
                </span>
            </div>
        </div>
    </div>

    <!-- Sticky Navigation -->
    <div class="sticky-nav-container">
        <div class="max-w-7xl mx-auto">
            <div class="nav-scroll-wrapper flex overflow-x-auto">
                <button class="nav-tab active" data-tab="1">ğŸ“ˆ æ ¸å¿ƒç­–ç•¥</button>
                <button class="nav-tab" data-tab="2">ğŸš€ ASC æ‰©é‡</button>
                <button class="nav-tab" data-tab="3">ğŸ”¬ ABO æµ‹è¯•</button>
                <button class="nav-tab" data-tab="8">ğŸ“˜ æŒ‡æ ‡æŒ‡å—</button>
                <button class="nav-tab text-purple-700" data-tab="9">ğŸŒ è½åœ°é¡µä½“æ£€</button>
                <button class="nav-tab text-indigo-700" data-tab="5">âœ¨ AI å·¥å…·ç®±</button>
                <div class="w-px h-8 bg-gray-300 mx-2 my-auto"></div>
                <button class="nav-tab text-green-700" data-tab="6">ğŸ§® åˆ©æ¶¦è®¡ç®—</button>
                <button class="nav-tab text-red-700" data-tab="7">ğŸš‘ æ•…éšœè¯Šæ–­</button>
                <button class="nav-tab text-emerald-700" data-tab="10">ğŸ’° é¢„ç®—æ¨¡æ‹Ÿ</button>
            </div>
        </div>
    </div>

    <!-- Main Content Area -->
    <main class="flex-grow">
        
        <!-- Tab 1: æ ¸å¿ƒç­–ç•¥ (Strategy) -->
        <div id="tab-content-1" class="tab-pane">
            <div class="card mb-8 border-l-4 border-l-indigo-600">
                <div class="card-body">
                    <h2 class="text-2xl font-bold mb-4 text-indigo-900">æ ¸å¿ƒæ‰“æ³•ï¼š1+1 ç»„åˆæ‹³</h2>
                    <p class="text-gray-600 mb-6 leading-relaxed">
                        ä¸è¦åœ¨ "æ™ºèƒ½æŠ•æ”¾" å’Œ "æ‰‹åŠ¨æŠ•æ”¾" ä¹‹é—´äºŒé€‰ä¸€ã€‚æœ€ç¨³å¥çš„ç”µé’»ç‹¬ç«‹ç«™æ‰“æ³•æ˜¯ï¼šç”¨ ASC è´Ÿè´£æ”¶å‰²åˆ©æ¶¦ï¼Œç”¨ ABO è´Ÿè´£ç ”å‘ç´ æã€‚
                    </p>
                    <div class="grid md:grid-cols-2 gap-6">
                        <div class="bg-indigo-50 rounded-xl p-6 border border-indigo-100">
                            <div class="flex items-center gap-3 mb-3">
                                <span class="text-3xl">ğŸ›¡ï¸</span>
                                <h3 class="text-xl font-bold text-indigo-800">ä¸»åŠ›å†› (ASC)</h3>
                            </div>
                            <ul class="space-y-2 text-sm text-indigo-900">
                                <li>â€¢ <strong>èŒè´£ï¼š</strong> æ‰©é‡ã€æ”¶å‰²ã€ç¨³å®šå‡ºå•</li>
                                <li>â€¢ <strong>é¢„ç®—ï¼š</strong> å æ€»é¢„ç®— 70%</li>
                                <li>â€¢ <strong>ç´ æï¼š</strong> åªæ”¾éªŒè¯è¿‡çš„â€œè€çˆ†æ¬¾â€</li>
                                <li>â€¢ <strong>å—ä¼—ï¼š</strong> é€šæŠ• (Broad)ï¼Œä¸è®¾é™</li>
                            </ul>
                        </div>
                        <div class="bg-gray-100 rounded-xl p-6 border border-gray-200">
                            <div class="flex items-center gap-3 mb-3">
                                <span class="text-3xl">ğŸ”­</span>
                                <h3 class="text-xl font-bold text-gray-800">ä¾¦å¯Ÿå…µ (ABO)</h3>
                            </div>
                            <ul class="space-y-2 text-gray-700 text-sm">
                                <li>â€¢ <strong>èŒè´£ï¼š</strong> æµ‹è¯•æ–°ç´ æã€æ–°è§’åº¦</li>
                                <li>â€¢ <strong>é¢„ç®—ï¼š</strong> å æ€»é¢„ç®— 30%</li>
                                <li>â€¢ <strong>ç´ æï¼š</strong> å¤§é‡æµ‹è¯•æ–°è§†é¢‘/å›¾ç‰‡</li>
                                <li>â€¢ <strong>æœºåˆ¶ï¼š</strong> èµ›é©¬æœºåˆ¶ (1ç»„å¤šç´ æ)</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Tab 2: ASC è¯¦è§£ -->
        <div id="tab-content-2" class="tab-pane hidden">
            <div class="card">
                <div class="card-header">
                    ğŸš€ ASC (Advantage+ Shopping) ç»“æ„è“å›¾
                </div>
                <div class="card-body">
                    <div class="border-2 border-indigo-200 rounded-lg p-4 bg-indigo-50/30">
                        <div class="font-mono text-xs text-indigo-500 mb-1">CAMPAIGN LEVEL</div>
                        <div class="font-bold text-indigo-900 text-lg">ğŸ›’ ASC å¹¿å‘Šç³»åˆ—</div>
                        <div class="text-sm text-gray-600 mb-4">é¢„ç®—: $36+ (Daily) | ç«ä»·: è‡ªåŠ¨</div>
                        
                        <div class="ml-4 pl-4 border-l-2 border-indigo-300 relative">
                            <div class="absolute w-3 h-3 bg-indigo-300 rounded-full -left-[7px] top-0"></div>
                            <div class="font-mono text-xs text-gray-500 mb-1">AD SET LEVEL (Locked)</div>
                            <div class="font-bold text-gray-800">å”¯ä¸€çš„å¹¿å‘Šç»„</div>
                            <div class="text-sm text-gray-500 mb-4">å—ä¼—: å›½å®¶ (US) + å¹´é¾„ (25-65+)</div>

                            <div class="ml-4 pl-4 border-l-2 border-gray-300 space-y-3">
                                <div class="bg-white p-3 rounded border border-gray-200 shadow-sm flex justify-between items-center">
                                    <span class="font-medium">ğŸ¥ çˆ†æ¬¾è§†é¢‘ A</span>
                                    <span class="text-xs bg-green-100 text-green-700 px-2 py-1 rounded">ä¸»åŠ›</span>
                                </div>
                                <div class="bg-white p-3 rounded border border-gray-200 shadow-sm flex justify-between items-center">
                                    <span class="font-medium">ğŸ–¼ï¸ çˆ†æ¬¾å›¾ç‰‡ B</span>
                                    <span class="text-xs bg-green-100 text-green-700 px-2 py-1 rounded">ä¸»åŠ›</span>
                                </div>
                                <div class="bg-white p-3 rounded border border-gray-200 shadow-sm flex justify-between items-center">
                                    <span class="font-medium">ğŸ¥ æ½œåŠ›è§†é¢‘ C (åˆšä»ABOæ™‹å‡)</span>
                                    <span class="text-xs bg-blue-100 text-blue-700 px-2 py-1 rounded">æ–°ç§€</span>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="mt-6 p-4 bg-yellow-50 text-yellow-800 text-sm rounded-lg">
                        <strong>ğŸ’¡ å…³é”®ç‚¹ï¼š</strong> ASC ä¸ä¼šè·‘è¶…é¢„ç®—ï¼Œå®ƒçš„é¢„ç®—æ˜¯åœ¨ Campaign å±‚çº§é”æ­»çš„ã€‚å®ƒä¼šè‡ªåŠ¨æŠŠé’±åˆ†é…ç»™è¡¨ç°æœ€å¥½çš„é‚£ä¸ªå¹¿å‘Šã€‚
                    </div>
                </div>
            </div>
        </div>

        <!-- Tab 3: ABO æµ‹è¯•è¯¦è§£ -->
        <div id="tab-content-3" class="tab-pane hidden">
            <div class="card">
                <div class="card-header">
                    ğŸ”¬ ABO (Manual Sales) æµ‹è¯•ç»“æ„
                </div>
                <div class="card-body">
                    <p class="mb-4 text-gray-600">ä½¿ç”¨â€œèµ›é©¬æœºåˆ¶â€å¿«é€Ÿç­›é€‰ç´ æã€‚æ¯ä¸ªå¹¿å‘Šç»„éƒ½æ˜¯ä¸€åœºç‹¬ç«‹çš„æ¯”èµ›ã€‚</p>
                    
                    <div class="grid md:grid-cols-3 gap-4">
                        <!-- Group 1 -->
                        <div class="border border-gray-300 rounded-lg p-4 bg-gray-50 relative overflow-hidden">
                            <div class="absolute top-0 right-0 bg-gray-200 text-xs px-2 py-1 rounded-bl">é¢„ç®—: $10</div>
                            <h4 class="font-bold text-gray-800 mb-2">å¹¿å‘Šç»„ 1: å…´è¶£ (DIY)</h4>
                            <div class="space-y-2">
                                <div class="bg-white p-2 rounded border text-xs text-center">ç´ æ A</div>
                                <div class="bg-white p-2 rounded border text-xs text-center">ç´ æ B</div>
                                <div class="bg-white p-2 rounded border text-xs text-center">ç´ æ C</div>
                            </div>
                        </div>
                        <!-- Group 2 -->
                        <div class="border border-gray-300 rounded-lg p-4 bg-gray-50 relative overflow-hidden">
                            <div class="absolute top-0 right-0 bg-gray-200 text-xs px-2 py-1 rounded-bl">é¢„ç®—: $10</div>
                            <h4 class="font-bold text-gray-800 mb-2">å¹¿å‘Šç»„ 2: å…´è¶£ (æœ¨å·¥)</h4>
                            <div class="space-y-2">
                                <div class="bg-white p-2 rounded border text-xs text-center">ç´ æ A</div>
                                <div class="bg-white p-2 rounded border text-xs text-center">ç´ æ B</div>
                                <div class="bg-white p-2 rounded border text-xs text-center">ç´ æ C</div>
                            </div>
                        </div>
                        <!-- Group 3 -->
                        <div class="border border-gray-300 rounded-lg p-4 bg-gray-50 relative overflow-hidden">
                            <div class="absolute top-0 right-0 bg-gray-200 text-xs px-2 py-1 rounded-bl">é¢„ç®—: $10</div>
                            <h4 class="font-bold text-gray-800 mb-2">å¹¿å‘Šç»„ 3: é€šæŠ• (Broad)</h4>
                            <div class="space-y-2">
                                <div class="bg-white p-2 rounded border text-xs text-center">ç´ æ A</div>
                                <div class="bg-white p-2 rounded border text-xs text-center">ç´ æ B</div>
                                <div class="bg-white p-2 rounded border text-xs text-center">ç´ æ C</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Tab 8: æŒ‡æ ‡æŒ‡å— -->
        <div id="tab-content-8" class="tab-pane hidden">
            <h2 class="text-2xl font-bold text-gray-800 mb-6">ğŸ“˜ æ ¸å¿ƒæŒ‡æ ‡é€ŸæŸ¥æ‰‹å†Œ</h2>
            <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                <div class="bg-white p-6 rounded-xl shadow-sm border-t-4 border-green-500">
                    <h3 class="font-bold text-lg mb-4 text-green-700">1. ç»“æœæŒ‡æ ‡ (è€æ¿çœ‹è¿™ä¸ª)</h3>
                    <ul class="space-y-3 text-sm text-gray-600">
                        <li><strong>ROAS:</strong> å›æŠ¥ç‡ã€‚ç”µå•†é€šå¸¸ >2.0 ä¿æœ¬ã€‚</li>
                        <li><strong>CPA:</strong> å•æ¬¡è´­ä¹°æˆæœ¬ã€‚è¶Šä½è¶Šå¥½ã€‚</li>
                        <li><strong>CVR:</strong> è½¬åŒ–ç‡ã€‚åæ˜ è½åœ°é¡µè´¨é‡ã€‚</li>
                    </ul>
                </div>
                <div class="bg-white p-6 rounded-xl shadow-sm border-t-4 border-blue-500">
                    <h3 class="font-bold text-lg mb-4 text-blue-700">2. å‰ç«¯æŒ‡æ ‡ (æŠ•æ‰‹çœ‹è¿™ä¸ª)</h3>
                    <ul class="space-y-3 text-sm text-gray-600">
                        <li><strong>CTR:</strong> ç‚¹å‡»ç‡ã€‚åæ˜ ç´ æå¸å¼•åŠ›ã€‚>1% åŠæ ¼ã€‚</li>
                        <li><strong>CPC:</strong> ç‚¹å‡»å•ä»·ã€‚è¶Šä½è¶Šå¥½ã€‚</li>
                        <li><strong>CPM:</strong> åƒæ¬¡å±•ç¤ºè´¹ã€‚åæ˜ ç«äº‰ç¨‹åº¦ã€‚</li>
                    </ul>
                </div>
                <div class="bg-white p-6 rounded-xl shadow-sm border-t-4 border-purple-500">
                    <h3 class="font-bold text-lg mb-4 text-purple-700">3. è¯Šæ–­æ­¥éª¤</h3>
                    <ol class="space-y-2 text-sm text-gray-600 list-decimal pl-4">
                        <li>å…ˆçœ‹ ROAS èµšé’±æ²¡ï¼Ÿ</li>
                        <li>æ²¡èµšï¼Œçœ‹ CPA è´µåœ¨å“ªï¼Ÿ</li>
                        <li>å¦‚æœæ˜¯ CPC è´µ -> ä¼˜åŒ–ç´ æ (CTR)</li>
                        <li>å¦‚æœæ˜¯ CVR ä½ -> ä¼˜åŒ–ç½‘ç«™</li>
                    </ol>
                </div>
            </div>
        </div>

        <!-- Tab 9: è½åœ°é¡µä½“æ£€ -->
        <div id="tab-content-9" class="tab-pane hidden">
            <div class="flex justify-between items-center mb-6">
                <h2 class="text-2xl font-bold text-gray-800">ğŸŒ è½åœ°é¡µè½¬åŒ–ç‡è‡ªæŸ¥æ¸…å•</h2>
                <span class="text-sm bg-purple-100 text-purple-800 px-3 py-1 rounded-full">Conversion Audit</span>
            </div>
            <div class="grid md:grid-cols-2 lg:grid-cols-4 gap-4">
                <div class="check-item bg-white border p-4 rounded-lg hover:shadow-md">
                    <span class="check-icon">âœ”ï¸</span>
                    <div><h4 class="font-bold">1. é»„é‡‘é¦–å±</h4><p class="text-xs text-gray-500">3ç§’åŸåˆ™ï¼šå–ä»€ä¹ˆï¼Ÿè§£å†³ä»€ä¹ˆç—›ç‚¹ï¼Ÿ</p></div>
                </div>
                <div class="check-item bg-white border p-4 rounded-lg hover:shadow-md">
                    <span class="check-icon">âœ”ï¸</span>
                    <div><h4 class="font-bold">2. ä¿¡ä»»èƒŒä¹¦</h4><p class="text-xs text-gray-500">é€€æ¬¾ä¿éšœã€å®‰å…¨æ”¯ä»˜å›¾æ ‡ã€‚</p></div>
                </div>
                <div class="check-item bg-white border p-4 rounded-lg hover:shadow-md">
                    <span class="check-icon">âœ”ï¸</span>
                    <div><h4 class="font-bold">3. ç¤¾ä¼šè¯æ˜</h4><p class="text-xs text-gray-500">å¸¦å›¾è¯„ä»·ã€æ˜Ÿçº§è¯„åˆ†ã€ä¹°å®¶ç§€ã€‚</p></div>
                </div>
                <div class="check-item bg-white border p-4 rounded-lg hover:shadow-md">
                    <span class="check-icon">âœ”ï¸</span>
                    <div><h4 class="font-bold">4. æ”¯ä»˜æµç¨‹</h4><p class="text-xs text-gray-500">æ”¯æŒ PayPalï¼Œè¡¨å•ç®€æ´ã€‚</p></div>
                </div>
                <div class="check-item bg-white border p-4 rounded-lg hover:shadow-md">
                    <span class="check-icon">âœ”ï¸</span>
                    <div><h4 class="font-bold">5. åœºæ™¯å›¾</h4><p class="text-xs text-gray-500">å±•ç¤ºäº§å“åœ¨çœŸå®ç¯å¢ƒä¸­çš„ä½¿ç”¨ã€‚</p></div>
                </div>
                <div class="check-item bg-white border p-4 rounded-lg hover:shadow-md">
                    <span class="check-icon">âœ”ï¸</span>
                    <div><h4 class="font-bold">6. å–ç‚¹å¯è§†åŒ–</h4><p class="text-xs text-gray-500">å›¾æ ‡+çŸ­å¥ï¼Œä¸è¦å¤§æ®µæ–‡å­—ã€‚</p></div>
                </div>
                <div class="check-item bg-white border p-4 rounded-lg hover:shadow-md">
                    <span class="check-icon">âœ”ï¸</span>
                    <div><h4 class="font-bold">7. åŠ è½½é€Ÿåº¦</h4><p class="text-xs text-gray-500">ç§»åŠ¨ç«¯å¿…é¡»åœ¨ 3 ç§’å†…æ‰“å¼€ã€‚</p></div>
                </div>
                <div class="check-item bg-white border p-4 rounded-lg hover:shadow-md">
                    <span class="check-icon">âœ”ï¸</span>
                    <div><h4 class="font-bold">8. ä¼˜æƒ ç´§è¿«æ„Ÿ</h4><p class="text-xs text-gray-500">é™æ—¶æŠ˜æ‰£ã€åº“å­˜ç´§å¼ æç¤ºã€‚</p></div>
                </div>
            </div>
        </div>

        <!-- Tab 5: AI å·¥å…·ç®± -->
        <div id="tab-content-5" class="tab-pane hidden">
            <h2 class="text-2xl font-bold text-gray-800 mb-6">âœ¨ AI æ™ºèƒ½åŠ©æ‰‹ (Gemini)</h2>
            <div class="grid lg:grid-cols-2 gap-8">
                <!-- Copy Generator -->
                <div class="card">
                    <div class="card-header bg-indigo-600 text-white border-none">
                        ğŸ“ çˆ†æ¬¾æ–‡æ¡ˆç”Ÿæˆå™¨
                    </div>
                    <div class="card-body space-y-4">
                        <div>
                            <label class="input-label">æ ¸å¿ƒå–ç‚¹</label>
                            <input type="text" id="copy-features" class="input-field" placeholder="ä¾‹å¦‚: å¤§æ‰­åŠ›, ç»­èˆªä¹…, é€å·¥å…·ç®±">
                        </div>
                        <div>
                            <label class="input-label">ç›®æ ‡äººç¾¤/åœºæ™¯</label>
                            <input type="text" id="copy-audience" class="input-field" placeholder="ä¾‹å¦‚: è£…ä¿®å·¥, çˆ¶äº²èŠ‚ç¤¼ç‰©">
                        </div>
                        <button id="btn-generate-copy" class="btn-primary w-full">ç”Ÿæˆ 3 ç»„æ–‡æ¡ˆ</button>
                        <div id="result-copy" class="bg-gray-50 p-4 rounded-lg border border-gray-200 min-h-[100px] text-sm hidden"></div>
                    </div>
                </div>
                <!-- Audience Finder -->
                <div class="card">
                    <div class="card-header bg-purple-600 text-white border-none">
                        ğŸ¯ å—ä¼—æŒ–æ˜æœº
                    </div>
                    <div class="card-body space-y-4">
                        <div>
                            <label class="input-label">äº§å“åç§°</label>
                            <input type="text" id="audience-product" class="input-field" value="ç”µé’» (Power Drill)" readonly>
                        </div>
                        <div>
                            <label class="input-label">æ¢ç´¢æ–¹å‘</label>
                            <input type="text" id="audience-theme" class="input-field" placeholder="ä¾‹å¦‚: DIY, æˆ¿åœ°äº§æŠ•èµ„, æ±½è½¦ä¿®ç†">
                        </div>
                        <button id="btn-generate-audience" class="btn-primary w-full bg-purple-600 hover:bg-purple-700">æŒ–æ˜å…´è¶£è¯</button>
                        <div id="result-audience" class="bg-gray-50 p-4 rounded-lg border border-gray-200 min-h-[100px] text-sm hidden"></div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Tab 6: åˆ©æ¶¦è®¡ç®—å™¨ -->
        <div id="tab-content-6" class="tab-pane hidden">
            <h2 class="text-2xl font-bold text-gray-800 mb-6 text-green-700">ğŸ§® åˆ©æ¶¦ä¸ ROAS è®¡ç®—å™¨</h2>
            <div class="grid lg:grid-cols-3 gap-8">
                <!-- Input -->
                <div class="card col-span-1 border-t-4 border-t-green-600">
                    <div class="card-header">è¾“å…¥æ•°æ®</div>
                    <div class="card-body space-y-4">
                        <div><label class="input-label">äº§å“å”®ä»· ($)</label><input type="number" id="calc-price" class="input-field text-right" value="69.00"></div>
                        <div><label class="input-label">æ‹¿è´§æˆæœ¬ ($)</label><input type="number" id="calc-cost" class="input-field text-right" value="25.00"></div>
                        <div><label class="input-label">å¹³å‡è¿è´¹ ($)</label><input type="number" id="calc-shipping" class="input-field text-right" value="10.00"></div>
                        <div><label class="input-label">å¹³å‡ CPC ($)</label><input type="number" id="calc-cpc" class="input-field text-right" value="0.80" step="0.01"></div>
                    </div>
                </div>
                <!-- Result -->
                <div class="lg:col-span-2 space-y-6">
                    <div class="grid md:grid-cols-2 gap-6">
                        <div class="bg-green-50 p-6 rounded-xl border border-green-200 text-center">
                            <p class="text-sm text-gray-500 uppercase tracking-wide">ä¿æœ¬ CPA (ç›ˆäºçº¿)</p>
                            <p class="text-4xl font-extrabold text-gray-800 mt-2" id="res-break-even-cpa">$34.00</p>
                            <p class="text-xs text-gray-500 mt-1">ä½äºæ­¤æˆæœ¬æ‰èµšé’±</p>
                        </div>
                        <div class="bg-green-50 p-6 rounded-xl border border-green-200 text-center">
                            <p class="text-sm text-gray-500 uppercase tracking-wide">ä¿æœ¬ ROAS</p>
                            <p class="text-4xl font-extrabold text-gray-800 mt-2" id="res-break-even-roas">2.03</p>
                            <p class="text-xs text-gray-500 mt-1">Revenue / Ad Spend</p>
                        </div>
                    </div>
                    <div class="card border-green-100">
                        <div class="card-body">
                            <div class="flex justify-between items-end mb-2">
                                <h4 class="font-bold text-green-800">ç›®æ ‡è®¾ç½® (è¿½æ±‚ 20% å‡€åˆ©)</h4>
                                <span class="text-2xl font-bold text-green-600" id="res-target-cpa">$20.20</span>
                            </div>
                            <p class="text-sm text-gray-600">ä¸ºäº†æ¯å•èµš <span id="res-profit-amount" class="font-bold">$13.80</span>ï¼Œä½ éœ€è¦å°† CPA æ§åˆ¶åœ¨ <span id="res-target-cpa-text" class="font-bold">$20.20</span> ä»¥ä¸‹ã€‚</p>
                            
                            <div class="mt-6 pt-6 border-t border-gray-100">
                                <div class="flex justify-between text-sm mb-1">
                                    <span class="text-gray-600">æ‰€éœ€ç½‘ç«™è½¬åŒ–ç‡ (CVR)</span>
                                    <span class="font-bold text-indigo-600" id="sim-req-cvr">2.5%</span>
                                </div>
                                <div class="w-full bg-gray-200 rounded-full h-2.5">
                                    <div id="sim-bar" class="bg-indigo-600 h-2.5 rounded-full transition-all duration-500" style="width: 40%"></div>
                                </div>
                                <p class="text-xs text-gray-500 mt-2" id="sim-advice">éš¾åº¦é€‚ä¸­ã€‚</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Tab 7: æ•…éšœè¯Šæ–­ PRO -->
        <div id="tab-content-7" class="tab-pane hidden">
            <h2 class="text-2xl font-bold text-gray-800 mb-6 text-red-700">ğŸš‘ å¹¿å‘Šæ•…éšœè¯Šæ–­å®¤ PRO</h2>
            <div class="grid lg:grid-cols-2 gap-8">
                <div class="card border-t-4 border-t-red-600">
                    <div class="card-header">è¾“å…¥å®æ—¶æ•°æ®</div>
                    <div class="card-body space-y-4">
                        <div><label class="input-label">äº§å“å”®ä»· ($)</label><input type="number" id="diag-price" class="input-field" value="69.00"></div>
                        <div class="grid grid-cols-2 gap-4">
                            <div><label class="input-label">èŠ±è´¹é‡‘é¢ ($)</label><input type="number" id="diag-spend" class="input-field" placeholder="5.00"></div>
                            <div><label class="input-label">å±•ç¤ºæ¬¡æ•°</label><input type="number" id="diag-imps" class="input-field" placeholder="1000"></div>
                        </div>
                        <div><label class="input-label">é“¾æ¥ç‚¹å‡»é‡ (Clicks)</label><input type="number" id="diag-clicks" class="input-field" placeholder="10"></div>
                        <button id="btn-diagnose" class="btn-danger w-full mt-4">å¼€å§‹è¯Šæ–­</button>
                    </div>
                </div>
                <div id="diag-result" class="hidden space-y-4">
                    <div class="grid grid-cols-3 gap-4 text-center">
                        <div class="bg-white p-3 rounded-lg border shadow-sm"><p class="text-xs text-gray-500">CPM</p><p class="text-lg font-bold" id="res-cpm">-</p></div>
                        <div class="bg-white p-3 rounded-lg border shadow-sm"><p class="text-xs text-gray-500">CTR</p><p class="text-lg font-bold" id="res-ctr">-</p></div>
                        <div class="bg-white p-3 rounded-lg border shadow-sm"><p class="text-xs text-gray-500">CPC</p><p class="text-lg font-bold" id="res-cpc">-</p></div>
                    </div>
                    <div id="diag-message-box" class="p-5 rounded-lg border-l-4 shadow-sm bg-white">
                        <h4 class="font-bold text-lg mb-2" id="diag-title"></h4>
                        <p class="text-sm text-gray-700" id="diag-desc"></p>
                    </div>
                    <div class="bg-blue-50 p-4 rounded-lg border border-blue-100 text-sm text-blue-900">
                        <strong>ğŸ’¡ å»ºè®®æ“ä½œï¼š</strong>
                        <p id="diag-action" class="mt-1 whitespace-pre-line"></p>
                    </div>
                    <div class="bg-white p-4 rounded-lg border border-gray-200">
                        <div class="flex justify-between items-center">
                            <span class="text-sm font-bold text-gray-700">ç”Ÿå­˜éš¾åº¦åˆ†æ</span>
                            <span id="res-difficulty" class="text-xs font-bold px-2 py-1 rounded bg-gray-200">è®¡ç®—ä¸­</span>
                        </div>
                        <p class="text-xs text-gray-500 mt-1">
                            ä¿æœ¬æ‰€éœ€è½¬åŒ–ç‡: <span id="res-req-cvr-diag" class="font-bold text-indigo-600">-</span>
                        </p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Tab 10: é¢„ç®—æ¨¡æ‹Ÿå™¨ -->
        <div id="tab-content-10" class="tab-pane hidden">
            <h2 class="text-2xl font-bold text-gray-800 mb-6 text-emerald-700">ğŸ’° é¢„ç®—æ‰©é‡æ¨¡æ‹Ÿå™¨</h2>
            <div class="grid lg:grid-cols-3 gap-8">
                <div class="card border-t-4 border-t-emerald-600 col-span-1">
                    <div class="card-header">å½“å‰è¡¨ç°</div>
                    <div class="card-body space-y-4">
                        <div><label class="input-label">æ—¥é¢„ç®— ($)</label><input type="number" id="sim-budget" class="input-field" value="35"></div>
                        <div><label class="input-label">å½“å‰ CPA ($)</label><input type="number" id="sim-cpa" class="input-field" value="20"></div>
                        <div><label class="input-label">å½“å‰ ROAS</label><input type="number" id="sim-roas" class="input-field" value="2.5"></div>
                        <div class="border-t pt-4"><label class="input-label text-xs">æ‹¿è´§æˆæœ¬ ($)</label><input type="number" id="sim-cost" class="input-field" value="20"></div>
                        <button id="btn-simulate" class="btn-success w-full mt-2">å¼€å§‹æ¨¡æ‹Ÿ</button>
                    </div>
                </div>
                <div class="lg:col-span-2">
                    <div id="sim-result-container" class="hidden">
                        <div class="grid md:grid-cols-2 gap-4 mb-6">
                            <div class="bg-white p-4 rounded-lg border shadow-sm">
                                <p class="text-xs text-gray-500 font-bold uppercase">æ‰©é‡å»ºè®®</p>
                                <p class="text-2xl font-bold mt-1" id="sim-verdict">-</p>
                            </div>
                            <div class="bg-white p-4 rounded-lg border shadow-sm">
                                <p class="text-xs text-gray-500 font-bold uppercase">æé™é¢„ç®— (æ¯æ—¥)</p>
                                <p class="text-2xl font-bold mt-1" id="sim-limit">-</p>
                            </div>
                        </div>
                        <div class="bg-white rounded-lg border shadow-sm overflow-hidden">
                            <table class="w-full text-sm text-left">
                                <thead class="bg-gray-50 text-gray-600 font-bold border-b">
                                    <tr>
                                        <th class="px-4 py-3">åœºæ™¯</th>
                                        <th class="px-4 py-3">æ—¥é¢„ç®—</th>
                                        <th class="px-4 py-3">é¢„ä¼° CPA</th>
                                        <th class="px-4 py-3">å•é‡</th>
                                        <th class="px-4 py-3">æ—¥å‡€åˆ©</th>
                                    </tr>
                                </thead>
                                <tbody id="sim-table-body" class="divide-y divide-gray-100"></tbody>
                            </table>
                        </div>
                    </div>
                    <div id="sim-empty-state" class="h-full flex items-center justify-center border-2 border-dashed border-gray-200 rounded-xl min-h-[200px] text-gray-400">
                        ğŸ‘ˆ è¯·è¾“å…¥æ•°æ®å¼€å§‹æ¨æ¼”
                    </div>
                </div>
            </div>
        </div>

        <!-- Tab 4: FAQ (Static) -->
        <div id="tab-content-4" class="tab-pane hidden">
            <h2 class="text-2xl font-bold text-gray-800 mb-6">ğŸ’¡ å¸¸è§é—®é¢˜è§£ç­”</h2>
            <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-6">
                <div class="bg-white p-6 rounded-xl shadow-sm border border-gray-200">
                    <h4 class="font-bold text-indigo-700 mb-2">Q: ASC éœ€è¦è®¾ç½®å…´è¶£å—ï¼Ÿ</h4>
                    <p class="text-sm text-gray-600">A: ä¸éœ€è¦ï¼Œä¹Ÿä¸èƒ½è®¾ç½®ã€‚ASC æ˜¯å…¨è‡ªåŠ¨é€šæŠ•ï¼Œä¾é ç´ ææ‰¾äººã€‚</p>
                </div>
                <div class="bg-white p-6 rounded-xl shadow-sm border border-gray-200">
                    <h4 class="font-bold text-indigo-700 mb-2">Q: èŠ±äº† $10 æ²¡å‡ºå•æ€ä¹ˆåŠï¼Ÿ</h4>
                    <p class="text-sm text-gray-600">A: å…ˆçœ‹æœ‰æ— ç‚¹å‡»ã€‚æ— ç‚¹å‡»æ¢ç´ æï¼›æœ‰ç‚¹å‡»æ— åŠ è´­æ¢è½åœ°é¡µï¼›æœ‰åŠ è´­æ— è´­ä¹°æ£€æŸ¥è¿è´¹ã€‚</p>
                </div>
                <div class="bg-white p-6 rounded-xl shadow-sm border border-gray-200">
                    <h4 class="font-bold text-indigo-700 mb-2">Q: ç«ä»·ç­–ç•¥é€‰å“ªä¸ªï¼Ÿ</h4>
                    <p class="text-sm text-gray-600">A: 90% çš„æƒ…å†µé€‰â€œè‡ªåŠ¨ç«ä»· (Highest Volume)â€ï¼Œè®©ç³»ç»Ÿå°½å¯èƒ½èŠ±å®Œé¢„ç®—ã€‚</p>
                </div>
            </div>
        </div>

    </main>

    <!-- JS Controller -->
    <script>
        const apiKey = ""; // System provides key

        document.addEventListener('DOMContentLoaded', function () {
            
            // --- Navigation Logic ---
            const tabs = document.querySelectorAll('.nav-tab');
            const panes = document.querySelectorAll('.tab-pane');

            tabs.forEach(tab => {
                tab.addEventListener('click', function () {
                    // Remove active class from all tabs
                    tabs.forEach(t => t.classList.remove('active'));
                    // Hide all panes
                    panes.forEach(p => p.classList.add('hidden'));
                    
                    // Activate clicked tab
                    this.classList.add('active');
                    // Show corresponding pane
                    const tabId = this.getAttribute('data-tab');
                    document.getElementById('tab-content-' + tabId).classList.remove('hidden');
                    
                    // Scroll to top slightly
                    window.scrollTo({ top: 0, behavior: 'smooth' });
                });
            });

            // --- 1. Profit Calculator Logic ---
            const profitInputs = ['calc-price', 'calc-cost', 'calc-shipping', 'calc-cpc'];
            profitInputs.forEach(id => document.getElementById(id).addEventListener('input', calculateProfit));

            function calculateProfit() {
                const price = parseFloat(document.getElementById('calc-price').value) || 0;
                const cost = parseFloat(document.getElementById('calc-cost').value) || 0;
                const shipping = parseFloat(document.getElementById('calc-shipping').value) || 0;
                const cpc = parseFloat(document.getElementById('calc-cpc').value) || 0;

                const breakEvenCPA = price - cost - shipping;
                document.getElementById('res-break-even-cpa').innerText = '$' + breakEvenCPA.toFixed(2);
                
                const breakEvenROAS = breakEvenCPA > 0 ? (price / breakEvenCPA) : 0;
                document.getElementById('res-break-even-roas').innerText = breakEvenROAS.toFixed(2);

                const targetProfit = price * 0.20;
                const targetCPA = breakEvenCPA - targetProfit;
                document.getElementById('res-target-cpa').innerText = '$' + targetCPA.toFixed(2);
                document.getElementById('res-target-cpa-text').innerText = '$' + targetCPA.toFixed(2);
                document.getElementById('res-profit-amount').innerText = '$' + targetProfit.toFixed(2);

                let reqConvRate = 0;
                if (targetCPA > 0) reqConvRate = (cpc / targetCPA) * 100;
                
                document.getElementById('sim-req-cvr').innerText = reqConvRate.toFixed(2) + '%';
                const bar = document.getElementById('sim-bar');
                bar.style.width = Math.min(reqConvRate * 5, 100) + '%';
                
                const advice = document.getElementById('sim-advice');
                if (reqConvRate > 5) {
                    advice.innerHTML = `<span class="text-red-600 font-bold">æé«˜éš¾åº¦</span> (è¡Œä¸šå¹³å‡ 1-3%)ï¼Œå»ºè®®é™ä½ CPCã€‚`;
                    bar.className = "h-2.5 rounded-full transition-all duration-500 bg-red-500";
                } else if (reqConvRate > 2.5) {
                    advice.innerHTML = `<span class="text-orange-500 font-bold">æœ‰æŒ‘æˆ˜</span>ï¼Œéœ€è¦ä¼˜ç§€çš„è½åœ°é¡µã€‚`;
                    bar.className = "h-2.5 rounded-full transition-all duration-500 bg-orange-500";
                } else {
                    advice.innerHTML = `<span class="text-emerald-500 font-bold">å¥åº·åŒºé—´</span>ï¼Œå®¹æ˜“è¾¾æˆã€‚`;
                    bar.className = "h-2.5 rounded-full transition-all duration-500 bg-emerald-500";
                }
            }
            calculateProfit(); // Init

            // --- 2. Diagnosis PRO Logic ---
            document.getElementById('btn-diagnose').addEventListener('click', function() {
                const spend = parseFloat(document.getElementById('diag-spend').value);
                const imps = parseFloat(document.getElementById('diag-imps').value);
                const clicks = parseFloat(document.getElementById('diag-clicks').value);
                const price = parseFloat(document.getElementById('diag-price').value) || 69;

                if (isNaN(spend) || isNaN(imps) || isNaN(clicks)) {
                    alert("è¯·è¾“å…¥å®Œæ•´æ•°æ®");
                    return;
                }

                document.getElementById('diag-result').classList.remove('hidden');

                const cpm = (spend / imps) * 1000;
                const ctr = (clicks / imps) * 100;
                const cpc = clicks > 0 ? spend / clicks : 0;

                document.getElementById('res-cpm').innerText = '$' + cpm.toFixed(2);
                document.getElementById('res-ctr').innerText = ctr.toFixed(2) + '%';
                document.getElementById('res-cpc').innerText = clicks > 0 ? '$' + cpc.toFixed(2) : '-';

                const box = document.getElementById('diag-message-box');
                const title = document.getElementById('diag-title');
                const desc = document.getElementById('diag-desc');
                const action = document.getElementById('diag-action');

                // Rules
                if (cpm > 100) {
                    box.className = "p-5 rounded-lg border-l-4 shadow-sm bg-red-50 border-red-500 text-red-900";
                    title.innerText = "ğŸš¨ ä¸¥é‡å¼‚å¸¸ï¼šCPM å¤©ä»·";
                    desc.innerText = `CPM é«˜è¾¾ $${cpm.toFixed(0)}ï¼Œæ˜¯æ­£å¸¸å€¼çš„æ•°å€ã€‚`;
                    action.innerText = "1. ç«‹å³å…³åœå¹¿å‘Šç»„ã€‚\n2. æ£€æŸ¥æ˜¯å¦å—ä¼—è¿‡çª„ã€‚\n3. é‡å»ºå¹¿å‘Šç»„ï¼Œä½¿ç”¨é€šæŠ• (Broad)ã€‚";
                } else if (clicks === 0 && spend > 5) {
                    box.className = "p-5 rounded-lg border-l-4 shadow-sm bg-red-50 border-red-500 text-red-900";
                    title.innerText = "ğŸ’€ åƒµå°¸å¹¿å‘Š (0 ç‚¹å‡»)";
                    desc.innerText = `èŠ±è´¹ $${spend} ä¾ç„¶æ— ç‚¹å‡»ã€‚ç´ æå¸å¼•åŠ›æå·®ã€‚`;
                    action.innerText = "ç«‹å³å…³åœï¼Œæ›´æ¢è§†é¢‘å‰ 3 ç§’æˆ–å›¾ç‰‡å°é¢ã€‚";
                } else if (ctr < 0.8) {
                    box.className = "p-5 rounded-lg border-l-4 shadow-sm bg-orange-50 border-orange-500 text-orange-900";
                    title.innerText = "âš ï¸ è­¦å‘Šï¼šç‚¹å‡»ç‡ä½";
                    desc.innerText = `CTR ${ctr.toFixed(2)}% ä¸åŠæ ¼ã€‚ç”¨æˆ·å¯¹ç´ æä¸æ„Ÿå…´è¶£ã€‚`;
                    action.innerText = "ç´ æç–²åŠ³æˆ–ä¸å¤Ÿå¸å¼•äººã€‚å»ºè®®æµ‹è¯•æ–°çš„ç´ æè§’åº¦ã€‚";
                } else {
                    box.className = "p-5 rounded-lg border-l-4 shadow-sm bg-green-50 border-green-500 text-green-900";
                    title.innerText = "âœ… å‰ç«¯æŒ‡æ ‡æ­£å¸¸";
                    desc.innerText = "CPM å’Œ CTR éƒ½åœ¨åˆç†èŒƒå›´å†…ã€‚";
                    action.innerHTML = "ç»§ç»­è§‚å¯Ÿã€‚å¦‚æœä¸å‡ºå•ï¼Œè¯·é‡ç‚¹æ£€æŸ¥è½åœ°é¡µä½“éªŒã€‚<br>å»ºè®®ç‚¹å‡»ä¸Šæ–¹ã€ğŸŒ è½åœ°é¡µä½“æ£€ã€‘è¿›è¡Œè‡ªæŸ¥ã€‚";
                }

                // Survival
                const maxCPA = price / 2;
                const reqCVR = cpc > 0 ? (cpc / maxCPA) * 100 : 0;
                document.getElementById('res-req-cvr-diag').innerText = reqCVR.toFixed(2) + '%';
                
                const diffEl = document.getElementById('res-difficulty');
                if(reqCVR > 5) { diffEl.innerText = "æéš¾"; diffEl.className = "text-xs font-bold px-2 py-1 rounded bg-red-100 text-red-700"; }
                else if(reqCVR > 2.5) { diffEl.innerText = "å›°éš¾"; diffEl.className = "text-xs font-bold px-2 py-1 rounded bg-orange-100 text-orange-700"; }
                else { diffEl.innerText = "å®¹æ˜“"; diffEl.className = "text-xs font-bold px-2 py-1 rounded bg-green-100 text-green-700"; }
            });

            // --- 3. Budget Simulator Logic ---
            document.getElementById('btn-simulate').addEventListener('click', function() {
                const budget = parseFloat(document.getElementById('sim-budget').value);
                const cpa = parseFloat(document.getElementById('sim-cpa').value);
                const roas = parseFloat(document.getElementById('sim-roas').value);
                const cost = parseFloat(document.getElementById('sim-cost').value);

                if(isNaN(budget)) return;

                document.getElementById('sim-empty-state').classList.add('hidden');
                document.getElementById('sim-result-container').classList.remove('hidden');

                const price = cpa * roas;
                const scenarios = [
                    { label: "å½“å‰çŠ¶æ€", scale: 1.0, inflate: 1.0 },
                    { label: "1.5å€æ‰©é‡", scale: 1.5, inflate: 1.05 },
                    { label: "2.0å€æ‰©é‡", scale: 2.0, inflate: 1.10 },
                    { label: "3.0å€æ‰©é‡", scale: 3.0, inflate: 1.20 },
                    { label: "5.0å€æš´åŠ›", scale: 5.0, inflate: 1.35 }
                ];

                const tbody = document.getElementById('sim-table-body');
                tbody.innerHTML = "";
                let maxBudget = 0;
                let profitable = false;

                scenarios.forEach((sc, idx) => {
                    const sBudget = budget * sc.scale;
                    const sCPA = cpa * sc.inflate;
                    const sOrders = sBudget / sCPA;
                    const sRev = sOrders * price;
                    const sProfit = sRev - sBudget - (sOrders * cost);

                    if (idx===0 && sProfit > 0) profitable = true;
                    if (sProfit > 0) maxBudget = sBudget;

                    const row = `
                        <tr class="${idx===0 ? 'bg-indigo-50 font-bold' : ''}">
                            <td class="px-4 py-3">${sc.label}</td>
                            <td class="px-4 py-3">$${sBudget.toFixed(0)}</td>
                            <td class="px-4 py-3 text-gray-600">$${sCPA.toFixed(2)}</td>
                            <td class="px-4 py-3">${sOrders.toFixed(1)}</td>
                            <td class="px-4 py-3 ${sProfit > 0 ? 'text-emerald-600 font-bold' : 'text-red-600 font-bold'}">$${sProfit.toFixed(2)}</td>
                        </tr>
                    `;
                    tbody.innerHTML += row;
                });

                const verdict = document.getElementById('sim-verdict');
                const limit = document.getElementById('sim-limit');
                
                if(profitable) {
                    verdict.innerHTML = "<span class='text-emerald-600'>âœ… å»ºè®®æ‰©é‡</span>";
                    limit.innerText = `$${maxBudget.toFixed(0)}/å¤©`;
                } else {
                    verdict.innerHTML = "<span class='text-red-600'>âŒ æš‚ä¸æ‰©é‡</span>";
                    limit.innerText = "å½“å‰å·²äºæŸ";
                }
            });

            // --- 4. AI Tools Logic ---
            const btnCopy = document.getElementById('btn-generate-copy');
            const resultCopy = document.getElementById('result-copy');
            btnCopy.addEventListener('click', async function() {
                const feat = document.getElementById('copy-features').value;
                if(!feat) { alert("è¯·è¾“å…¥å–ç‚¹"); return; }
                
                const originalText = btnCopy.innerText;
                btnCopy.innerText = "AI æ€è€ƒä¸­...";
                btnCopy.disabled = true;
                resultCopy.classList.remove('hidden');
                resultCopy.innerHTML = "<div class='animate-pulse'>æ­£åœ¨æ’°å†™æ–‡æ¡ˆ...</div>";

                try {
                    const prompt = `Act as a Facebook Ads Expert. Write 3 ad copies (Chinese) for Power Drill. Features: ${feat}. Format in Markdown.`;
                    const response = await fetch(`https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-09-2025:generateContent?key=${apiKey}`, {
                        method: 'POST',
                        headers: { 'Content-Type': 'application/json' },
                        body: JSON.stringify({ contents: [{ parts: [{ text: prompt }] }] })
                    });
                    const data = await response.json();
                    resultCopy.innerHTML = marked.parse(data.candidates[0].content.parts[0].text);
                } catch(e) {
                    resultCopy.innerText = "ç”Ÿæˆå¤±è´¥ï¼Œè¯·æ£€æŸ¥ç½‘ç»œæˆ– API Keyã€‚";
                } finally {
                    btnCopy.innerText = originalText;
                    btnCopy.disabled = false;
                }
            });

            const btnAudience = document.getElementById('btn-generate-audience');
            const resultAudience = document.getElementById('result-audience');
            btnAudience.addEventListener('click', async function() {
                const theme = document.getElementById('audience-theme').value;
                if(!theme) { alert("è¯·è¾“å…¥æ–¹å‘"); return; }
                
                const originalText = btnAudience.innerText;
                btnAudience.innerText = "AI æŒ–æ˜ä¸­...";
                btnAudience.disabled = true;
                resultAudience.classList.remove('hidden');
                resultAudience.innerHTML = "<div class='animate-pulse'>æ­£åœ¨åˆ†æå—ä¼—...</div>";

                try {
                    const prompt = `Suggest 10 Facebook Detailed Targeting interests (Chinese) for Power Drill. Theme: ${theme}. Format as list.`;
                    const response = await fetch(`https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-09-2025:generateContent?key=${apiKey}`, {
                        method: 'POST',
                        headers: { 'Content-Type': 'application/json' },
                        body: JSON.stringify({ contents: [{ parts: [{ text: prompt }] }] })
                    });
                    const data = await response.json();
                    resultAudience.innerHTML = marked.parse(data.candidates[0].content.parts[0].text);
                } catch(e) {
                    resultAudience.innerText = "ç”Ÿæˆå¤±è´¥ï¼Œè¯·é‡è¯•ã€‚";
                } finally {
                    btnAudience.innerText = originalText;
                    btnAudience.disabled = false;
                }
            });

        });
    </script>
</body>
</html>
