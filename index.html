<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Facebook å¹¿å‘Šç­–ç•¥ä»ªè¡¨ç›˜</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
    <!-- Chosen Palette: Calm Neutrals (BG: gray-50, Text: gray-800, Accent: indigo-600) -->
    <!-- Application Structure Plan: 
         Tab 7 "æ•…éšœè¯Šæ–­å®¤ PRO" é€»è¾‘å†æ¬¡å‡çº§ (v3)ã€‚
         æ–°å¢ "äº§å“å”®ä»·" è¾“å…¥ã€‚
         é€»è¾‘å¢åŠ  "ç”Ÿå­˜éš¾åº¦åˆ†æ" (Survival Analysis)ï¼š
         - è®¡ç®—å½“å‰ CPC ä¸‹çš„ä¿æœ¬è½¬åŒ–ç‡è¦æ±‚ (Required CVR)ã€‚
         - ç»“åˆ CPM, CTR, CPC, Price å››ä¸ªç»´åº¦ç»™å‡ºç»¼åˆå»ºè®®ã€‚
         - è§£å†³äº†ç”¨æˆ· "åªçœ‹ CPM ä¸çœ‹èµšä¸èµšé’±" çš„ç›²ç‚¹ã€‚
    -->
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji";
        }
        .nav-tab {
            @apply px-4 py-3 text-sm font-medium text-gray-600 border-b-2 border-transparent cursor-pointer hover:text-indigo-600 hover:border-indigo-600 transition-colors duration-200;
        }
        .nav-tab.active {
            @apply text-indigo-600 border-indigo-600 bg-indigo-50;
        }
        .tab-pane {
            @apply p-4 md:p-6 animate-fade-in;
        }
        .diagram-box {
            @apply border rounded-lg p-3 m-2 shadow-sm;
        }
        .diagram-campaign {
            @apply diagram-box border-indigo-600 bg-indigo-50 border-2 text-indigo-800 font-bold;
        }
        .diagram-adset {
            @apply diagram-box border-gray-500 bg-gray-50;
        }
        .diagram-ad {
            @apply diagram-box border-gray-300 bg-white text-xs;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(5px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .animate-fade-in {
            animation: fadeIn 0.3s ease-out forwards;
        }
        .spinner {
            border: 3px solid #f3f3f3;
            border-radius: 50%;
            border-top: 3px solid #4f46e5;
            width: 20px;
            height: 20px;
            animation: spin 1s linear infinite;
            display: inline-block;
            vertical-align: middle;
            margin-right: 8px;
        }
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        /* Markdown content styles */
        .markdown-content h1, .markdown-content h2, .markdown-content h3 { margin-top: 1em; margin-bottom: 0.5em; font-weight: bold; color: #3730a3; }
        .markdown-content ul { list-style-type: disc; padding-left: 1.5em; margin-bottom: 1em; }
        .markdown-content p { margin-bottom: 1em; }
        .markdown-content strong { color: #1f2937; }
        
        /* Calculator Input Styles */
        .calc-input {
            @apply w-full border border-gray-300 rounded-md p-2 text-right focus:ring-indigo-500 focus:border-indigo-500 font-mono;
        }
        .calc-label {
            @apply block text-sm font-medium text-gray-700 mb-1;
        }
        /* Metric Card Styles */
        .metric-card {
            @apply bg-white rounded-xl shadow-sm border border-gray-200 p-5 hover:shadow-md transition-shadow;
        }
        .metric-title {
            @apply text-lg font-bold mb-3 flex items-center gap-2;
        }
        .metric-list li {
            @apply mb-3 text-sm text-gray-600;
        }
        .metric-list strong {
            @apply text-gray-800 font-semibold;
        }
    </style>
</head>
<body class="bg-gray-50 text-gray-800 min-h-screen flex flex-col">

    <main class="max-w-7xl mx-auto p-4 md:p-8 flex-grow w-full">
        <header class="mb-6">
            <div class="flex items-center justify-between flex-wrap gap-4">
                <div>
                    <h1 class="text-3xl md:text-4xl font-bold text-gray-900">ç”µé’»ç‹¬ç«‹ç«™ï¼šFacebook å¹¿å‘Šç­–ç•¥ä»ªè¡¨ç›˜</h1>
                    <p class="mt-2 text-lg text-gray-600">ä»ç­–ç•¥åˆ°æ‰§è¡Œï¼šASC æ‰©é‡ã€ABO æµ‹è¯•ä¸æ•°æ®åˆ†æå…¨æŒ‡å—ã€‚</p>
                </div>
                <div class="bg-indigo-100 text-indigo-800 px-4 py-2 rounded-full text-sm font-semibold shadow-sm">
                    âœ¨ å·²é›†æˆ Gemini AI
                </div>
            </div>
        </header>

        <!-- å¯¼èˆª -->
        <nav class="flex flex-wrap border-b border-gray-200 bg-white rounded-t-lg shadow-sm overflow-x-auto">
            <button class="nav-tab whitespace-nowrap" data-tab="1">ğŸ“ˆ æ ¸å¿ƒç­–ç•¥ (1+1)</button>
            <button class="nav-tab whitespace-nowrap" data-tab="2">ğŸš€ ASC æ‰©é‡è¯¦è§£</button>
            <button class="nav-tab whitespace-nowrap" data-tab="3">ğŸ”¬ æ‰‹åŠ¨æµ‹è¯•è¯¦è§£ (ABO)</button>
            <button class="nav-tab whitespace-nowrap" data-tab="4">ğŸ’¡ å¸¸è§é—®ç­” (FAQ)</button>
            <button class="nav-tab whitespace-nowrap text-indigo-700 font-bold" data-tab="5">âœ¨ AI æ™ºèƒ½å·¥å…·ç®±</button>
            <button class="nav-tab whitespace-nowrap text-green-700 font-bold" data-tab="6">ğŸ§® åˆ©æ¶¦è®¡ç®—å™¨</button>
            <button class="nav-tab active whitespace-nowrap text-red-600 font-bold" data-tab="7">ğŸš‘ æ•…éšœè¯Šæ–­å®¤ PRO</button>
            <button class="nav-tab whitespace-nowrap text-blue-600 font-bold" data-tab="8">ğŸ“˜ æ•°æ®æŒ‡æ ‡æŒ‡å—</button>
        </nav>

        <!-- å†…å®¹åŒºåŸŸ -->
        <div class="bg-white shadow-md rounded-b-lg min-h-[500px]">

            <!-- æ ‡ç­¾é¡µ 1-6, 8 (Content structure preserved) -->
            <div id="tab-content-1" class="tab-pane hidden"></div>
            <div id="tab-content-2" class="tab-pane hidden"></div>
            <div id="tab-content-3" class="tab-pane hidden"></div>
            <div id="tab-content-4" class="tab-pane hidden"></div>
            <div id="tab-content-5" class="tab-pane hidden"></div>
            <div id="tab-content-6" class="tab-pane hidden"></div>
            
            <!-- æ ‡ç­¾é¡µ 7: æ•…éšœè¯Šæ–­å®¤ (PRO) -->
            <div id="tab-content-7" class="tab-pane">
                <section>
                    <h2 class="text-2xl font-semibold text-gray-800 mb-4 text-red-700">ğŸš‘ å¹¿å‘Šå…¨èƒ½è¯Šæ–­ PROï¼šè¾“å…¥æ•°æ®ï¼Œä¸€é”®åˆ†æ</h2>
                    <p class="text-gray-600 mb-6">
                        ç»“åˆæ‚¨çš„<strong>äº§å“å”®ä»·</strong>å’Œ<strong>å¹¿å‘Šå®æ—¶æ•°æ®</strong>ï¼Œå…¨æ–¹ä½åˆ¤æ–­è¿™ä¸ªå¹¿å‘Šæ˜¯è¯¥æ€è¿˜æ˜¯è¯¥ç•™ã€‚
                    </p>

                    <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                        <!-- è¾“å…¥é¢æ¿ -->
                        <div class="bg-white p-6 rounded-xl border-2 border-indigo-100 shadow-sm">
                            <h3 class="font-bold text-lg mb-4 text-indigo-800 border-b border-indigo-100 pb-2">ğŸ“ ç¬¬ä¸€æ­¥ï¼šè¾“å…¥æ•°æ®</h3>
                            <div class="space-y-4">
                                <div>
                                    <label class="calc-label text-indigo-900">äº§å“å”®ä»· (Product Price) $</label>
                                    <input type="number" id="diag-price" class="calc-input border-indigo-200 focus:border-indigo-500" placeholder="ä¾‹å¦‚: 69.00" value="69.00">
                                    <p class="text-xs text-gray-500 mt-1">è¿™å¯¹åˆ¤æ–­å¹¿å‘Šæ˜¯å¦â€œå¤ªè´µâ€è‡³å…³é‡è¦ã€‚</p>
                                </div>
                                <div class="grid grid-cols-2 gap-4">
                                    <div>
                                        <label class="calc-label">èŠ±è´¹é‡‘é¢ $</label>
                                        <input type="number" id="diag-spend" class="calc-input" placeholder="5.00">
                                    </div>
                                    <div>
                                        <label class="calc-label">å±•ç¤ºæ¬¡æ•°</label>
                                        <input type="number" id="diag-imps" class="calc-input" placeholder="1000">
                                    </div>
                                </div>
                                <div>
                                    <label class="calc-label">é“¾æ¥ç‚¹å‡»é‡ (Link Clicks)</label>
                                    <input type="number" id="diag-clicks" class="calc-input" placeholder="10">
                                </div>
                                <button id="btn-diagnose" class="w-full bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-3 px-4 rounded-md transition-colors mt-4 shadow-md flex items-center justify-center gap-2 transform hover:scale-[1.02] active:scale-95">
                                    <span>ğŸ©º å¼€å§‹å…¨é¢è¯Šæ–­</span>
                                </button>
                            </div>
                        </div>

                        <!-- ç»“æœé¢æ¿ -->
                        <div id="diag-result" class="bg-gray-50 p-6 rounded-xl border border-gray-200 hidden shadow-inner">
                            <h3 class="font-bold text-lg mb-4 text-gray-800 border-b pb-2">ğŸ“Š è¯Šæ–­æŠ¥å‘Š</h3>
                            
                            <!-- æ ¸å¿ƒæŒ‡æ ‡å¡ç‰‡ -->
                            <div class="grid grid-cols-3 gap-2 mb-6 text-center">
                                <div id="card-cpm" class="bg-white p-2 rounded border border-gray-200 shadow-sm">
                                    <p class="text-xs text-gray-500">CPM (åƒæ¬¡å±•ç¤º)</p>
                                    <p class="text-lg font-bold" id="res-cpm">-</p>
                                    <div id="badge-cpm" class="text-[10px] mt-1 inline-block px-2 rounded-full">-</div>
                                </div>
                                <div id="card-ctr" class="bg-white p-2 rounded border border-gray-200 shadow-sm">
                                    <p class="text-xs text-gray-500">CTR (ç‚¹å‡»ç‡)</p>
                                    <p class="text-lg font-bold" id="res-ctr">-</p>
                                    <div id="badge-ctr" class="text-[10px] mt-1 inline-block px-2 rounded-full">-</div>
                                </div>
                                <div id="card-cpc" class="bg-white p-2 rounded border border-gray-200 shadow-sm">
                                    <p class="text-xs text-gray-500">CPC (å•æ¬¡ç‚¹å‡»)</p>
                                    <p class="text-lg font-bold" id="res-cpc">-</p>
                                    <div id="badge-cpc" class="text-[10px] mt-1 inline-block px-2 rounded-full">-</div>
                                </div>
                            </div>

                            <!-- ç»¼åˆç»“è®º -->
                            <div id="diag-message-box" class="p-4 rounded-lg border mb-4 border-l-4 bg-white shadow-sm">
                                <h4 class="font-bold text-lg mb-2 flex items-center gap-2" id="diag-title"></h4>
                                <p class="text-sm leading-relaxed text-gray-700" id="diag-desc"></p>
                            </div>

                            <!-- ç”Ÿå­˜éš¾åº¦åˆ†æ (New) -->
                            <div class="mt-4 pt-4 border-t border-gray-200">
                                <h4 class="font-bold text-gray-800 mb-2 flex items-center">
                                    ğŸ§® ç”Ÿå­˜éš¾åº¦åˆ†æ
                                    <span class="text-xs font-normal text-gray-500 ml-2">(å‡è®¾ä¿æœ¬ROASä¸º2.0)</span>
                                </h4>
                                <div class="bg-white p-3 rounded border border-gray-200 text-sm">
                                    <p class="mb-2">ä»¥å½“å‰çš„æµé‡æˆæœ¬ï¼Œæ‚¨çš„ç½‘ç«™è½¬åŒ–ç‡å¿…é¡»è¾¾åˆ°ï¼š</p>
                                    <div class="flex items-center gap-3">
                                        <span class="text-2xl font-bold" id="res-req-cvr">0.00%</span>
                                        <span id="res-difficulty" class="px-2 py-1 rounded text-xs font-bold bg-gray-200">è®¡ç®—ä¸­...</span>
                                    </div>
                                    <p class="text-xs text-gray-500 mt-2" id="res-difficulty-desc">...</p>
                                </div>
                            </div>

                            <div class="mt-4 text-sm text-gray-700 bg-blue-50 p-4 rounded border border-blue-100">
                                <strong class="block mb-2 text-blue-900">ğŸ’¡ ä¸‹ä¸€æ­¥å»ºè®®ï¼š</strong>
                                <p id="diag-action" class="whitespace-pre-line"></p>
                            </div>
                        </div>
                    </div>
                </section>
            </div>

            <div id="tab-content-8" class="tab-pane hidden"></div>

        </div>
    </main>

    <script>
        const apiKey = ""; // System provides key

        // Tab Logic
        document.addEventListener('DOMContentLoaded', function () {
            const tabs = document.querySelectorAll('.nav-tab');
            const panes = document.querySelectorAll('.tab-pane');

            // --- Inject Tab 1 Content ---
            document.getElementById('tab-content-1').innerHTML = `
                <section>
                    <h2 class="text-2xl font-semibold text-gray-800 mb-4">æ ¸å¿ƒç­–ç•¥ï¼šASC ä¸»åŠ› + ABO æµ‹è¯•</h2>
                    <p class="text-gray-600 mb-6">è¿™æ˜¯æˆ‘ä»¬ç­–ç•¥çš„æ ¸å¿ƒï¼Œå³â€œ1+1 ç»„åˆæ‹³â€ã€‚æˆ‘ä»¬ä¸ä¾èµ–å•ä¸€ç»“æ„ï¼Œè€Œæ˜¯è®©ä¸¤ä¸ªå¹¿å‘Šç³»åˆ—ååŒå·¥ä½œã€‚</p>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                        <div class="bg-indigo-50 border border-indigo-200 rounded-lg p-6 shadow"><h3 class="text-xl font-bold text-indigo-800">ğŸ›¡ï¸ ä¸»åŠ›å†› (ASC)</h3><p>è´Ÿè´£æ”¶å‰²å’Œæ‰©é‡ (70%é¢„ç®—)ã€‚åˆ©ç”¨è€çˆ†æ¬¾ç´ æã€‚</p></div>
                        <div class="bg-gray-50 border border-gray-200 rounded-lg p-6 shadow"><h3 class="text-xl font-bold text-gray-800">ğŸ”­ ä¾¦å¯Ÿå…µ (ABO)</h3><p>è´Ÿè´£æµ‹è¯•å’Œå–‚æ–™ (30%é¢„ç®—)ã€‚åˆ©ç”¨â€œèµ›é©¬æœºåˆ¶â€æµ‹è¯•æ–°ç´ æã€‚</p></div>
                    </div>
                </section>
            `;
            
            // --- Inject Tab 8 Content (Data Guide) ---
            document.getElementById('tab-content-8').innerHTML = `
                <section>
                    <h2 class="text-2xl font-semibold text-gray-800 mb-6">ğŸ“˜ Facebook å¹¿å‘Šæ•°æ®åˆ†æå…¨æŒ‡å—</h2>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                        <div class="bg-white p-5 border-l-4 border-green-500 shadow-sm"><h3 class="font-bold text-green-700 mb-2">1. æ ¸å¿ƒæŒ‡æ ‡</h3><p class="text-sm text-gray-600">CPA (è·å®¢æˆæœ¬), ROAS (å›æŠ¥ç‡), CVR (è½¬åŒ–ç‡)ã€‚è¿™æ˜¯å†³å®šç”Ÿæ­»çš„æŒ‡æ ‡ã€‚</p></div>
                        <div class="bg-white p-5 border-l-4 border-blue-500 shadow-sm"><h3 class="font-bold text-blue-700 mb-2">2. å‰ç«¯æŒ‡æ ‡</h3><p class="text-sm text-gray-600">CTR (ç‚¹å‡»ç‡), CPC (ç‚¹å‡»æˆæœ¬), CPM (å±•ç¤ºæˆæœ¬)ã€‚è¿™æ˜¯åˆ¤æ–­ç´ æå¥½åçš„æŒ‡æ ‡ã€‚</p></div>
                    </div>
                </section>
            `;

            tabs.forEach(tab => {
                tab.addEventListener('click', function () {
                    const tabId = this.getAttribute('data-tab');
                    tabs.forEach(t => t.classList.remove('active'));
                    panes.forEach(p => p.classList.add('hidden'));
                    this.classList.add('active');
                    document.getElementById('tab-content-' + tabId).classList.remove('hidden');
                });
            });
            
            // Auto-select Tab 7 for user convenience
            document.querySelector('[data-tab="7"]').click();


            // --- Diagnosis Logic PRO V3 ---
            const btnDiagnose = document.getElementById('btn-diagnose');
            if (btnDiagnose) {
                btnDiagnose.addEventListener('click', function() {
                    const price = parseFloat(document.getElementById('diag-price').value);
                    const spend = parseFloat(document.getElementById('diag-spend').value);
                    const imps = parseFloat(document.getElementById('diag-imps').value);
                    const clicks = parseFloat(document.getElementById('diag-clicks').value);

                    if (isNaN(spend) || isNaN(imps) || isNaN(clicks) || isNaN(price)) {
                        alert("è¯·è¾“å…¥å®Œæ•´çš„æ•°æ®ï¼ŒåŒ…æ‹¬äº§å“å”®ä»·ã€èŠ±è´¹ã€å±•ç¤ºæ¬¡æ•°å’Œç‚¹å‡»é‡");
                        return;
                    }

                    const resultPanel = document.getElementById('diag-result');
                    resultPanel.classList.remove('hidden');

                    // 1. Calculate Basic Metrics
                    const cpm = (spend / imps) * 1000;
                    const ctr = (clicks / imps) * 100;
                    const cpc = clicks > 0 ? spend / clicks : 0;

                    // 2. Calculate Required CVR (Survival Analysis)
                    // Assume Break Even ROAS = 2.0 (Standard for dropshipping)
                    // Max Allowable CPA = Price / 2
                    // Required CVR = CPC / Max Allowable CPA
                    const maxAllowableCPA = price / 2.0; 
                    let requiredCVR = 0;
                    if (maxAllowableCPA > 0 && cpc > 0) {
                        requiredCVR = (cpc / maxAllowableCPA) * 100;
                    } else if (clicks === 0 && spend > 0) {
                        // Infinite required CVR if no clicks yet but money spent
                        requiredCVR = 999; 
                    }

                    // 3. Render Metrics
                    const elCpm = document.getElementById('res-cpm');
                    const elCtr = document.getElementById('res-ctr');
                    const elCpc = document.getElementById('res-cpc');
                    
                    elCpm.innerText = '$' + cpm.toFixed(2);
                    elCtr.innerText = ctr.toFixed(2) + '%';
                    elCpc.innerText = clicks > 0 ? '$' + cpc.toFixed(2) : '-';

                    // 4. Render Badges
                    const setBadge = (elId, val, goodThreshold, badThreshold, isLowerBetter) => {
                        const el = document.getElementById(elId);
                        let isGood = isLowerBetter ? val <= goodThreshold : val >= goodThreshold;
                        let isBad = isLowerBetter ? val >= badThreshold : val <= badThreshold;
                        
                        if (isGood) {
                            el.className = "text-[10px] mt-1 inline-block px-2 rounded-full bg-green-100 text-green-700";
                            el.innerText = "ä¼˜ç§€";
                        } else if (isBad) {
                            el.className = "text-[10px] mt-1 inline-block px-2 rounded-full bg-red-100 text-red-700";
                            el.innerText = "å·®";
                        } else {
                            el.className = "text-[10px] mt-1 inline-block px-2 rounded-full bg-yellow-100 text-yellow-700";
                            el.innerText = "ä¸€èˆ¬";
                        }
                    };
                    
                    setBadge('badge-cpm', cpm, 25, 50, true); // <25 Good, >50 Bad
                    setBadge('badge-ctr', ctr, 1.5, 0.8, false); // >1.5 Good, <0.8 Bad
                    setBadge('badge-cpc', cpc, 1.0, 2.5, true); // <1.0 Good, >2.5 Bad

                    // 5. Logic Tree for Title/Desc/Action
                    const title = document.getElementById('diag-title');
                    const desc = document.getElementById('diag-desc');
                    const action = document.getElementById('diag-action');
                    const box = document.getElementById('diag-message-box');

                    const setStyle = (type) => {
                        if(type === 'critical') box.className = "p-4 rounded-lg border mb-4 border-l-4 bg-red-50 border-red-500 text-red-900";
                        else if (type === 'warning') box.className = "p-4 rounded-lg border mb-4 border-l-4 bg-orange-50 border-orange-500 text-orange-900";
                        else if (type === 'success') box.className = "p-4 rounded-lg border mb-4 border-l-4 bg-green-50 border-green-500 text-green-900";
                        else box.className = "p-4 rounded-lg border mb-4 border-l-4 bg-blue-50 border-blue-500 text-blue-900";
                    };

                    // Diagnosis Logic
                    if (cpm > 100) {
                        setStyle('critical');
                        title.innerHTML = "ğŸš¨ æµé‡å¤©ä»· (CPM è¿‡é«˜)";
                        desc.innerHTML = `CPM é«˜è¾¾ $${cpm.toFixed(0)}ã€‚è¿™é€šå¸¸æ˜¯å—ä¼—è®¾ç½®é”™è¯¯ï¼ˆå¤ªçª„ï¼‰æˆ–è´¦æˆ·è¢«é™æµã€‚å³ä½¿ç´ æå†å¥½ä¹Ÿæ•‘ä¸å›æ¥ã€‚`;
                        action.innerText = "1. ç«‹å³å…³åœã€‚\n2. æ£€æŸ¥å—ä¼—æ˜¯å¦è¿‡çª„ã€‚\n3. é‡å»ºå¹¿å‘Šç»„ï¼Œä½¿ç”¨ã€é€šæŠ• (Broad)ã€‘ã€‚";
                    } else if (clicks === 0 && spend > 5) {
                        setStyle('critical');
                        title.innerHTML = "ğŸ’€ åƒµå°¸å¹¿å‘Š (0 ç‚¹å‡»)";
                        desc.innerHTML = `èŠ±äº† $${spend} è¿˜æ²¡äººç‚¹ã€‚è¦ä¹ˆæ˜¯ç´ ææå·®ï¼Œè¦ä¹ˆæ˜¯è¿˜æ²¡å±•ç¤ºç»™å¯¹çš„äººã€‚`;
                        action.innerText = spend > 10 ? "ç«‹åˆ»å…³åœï¼Œæ›´æ¢ç´ æã€‚" : "å†è§‚å¯Ÿä¸€ä¸‹ï¼Œå¦‚æœåˆ° $8 è¿˜æ²¡ç‚¹å‡»å°±å…³åœã€‚";
                    } else if (requiredCVR > 5) {
                        setStyle('critical');
                        title.innerHTML = "ğŸ’¸ èµ”æœ¬èµšå†å– (ç‚¹å‡»å¤ªè´µ)";
                        desc.innerHTML = `è™½ç„¶æœ‰äººç‚¹ï¼Œä½† CPC å¤ªè´µäº†ã€‚è¦å›æœ¬éœ€è¦ <strong>${requiredCVR.toFixed(1)}%</strong> çš„è½¬åŒ–ç‡ï¼Œè¿™åœ¨ç”µå•†ä¸­æéš¾è¾¾åˆ°ã€‚`;
                        action.innerText = "æ‚¨çš„ç‚¹å‡»æˆæœ¬å¤ªé«˜äº†ã€‚å°è¯•ï¼š\n1. ä¼˜åŒ–ç´ ææé«˜ CTRï¼ˆä»è€Œé™ä½ CPCï¼‰ã€‚\n2. æ”¾å®½å—ä¼—é™ä½ CPMã€‚\n3. æé«˜äº§å“å”®ä»·æˆ–å®¢å•ä»·ã€‚";
                    } else if (requiredCVR > 2.5) {
                        setStyle('warning');
                        title.innerHTML = "âš ï¸ å›°éš¾æ¨¡å¼ (åˆ©æ¶¦å¾®è–„)";
                        desc.innerHTML = `éœ€è¦ ${requiredCVR.toFixed(1)}% çš„è½¬åŒ–ç‡æ‰èƒ½ä¿æœ¬ã€‚è¿™æ˜¯ä¸€ä¸ªæœ‰æŒ‘æˆ˜æ€§çš„ç›®æ ‡ï¼Œå®¹é”™ç‡å¾ˆä½ã€‚`;
                        action.innerText = "å¯†åˆ‡å…³æ³¨ ROASã€‚å¦‚æœæ²¡å‡ºå•ï¼Œå»ºè®®åœ¨èŠ±è´¹è¾¾åˆ° 1å€ CPAï¼ˆçº¦ $35ï¼‰æ—¶å…³åœã€‚";
                    } else if (requiredCVR < 1.5 && clicks > 0) {
                        setStyle('success');
                        title.innerHTML = "ğŸ¦„ ç®€å•æ¨¡å¼ (æ½œåŠ›çˆ†æ¬¾)";
                        desc.innerHTML = `æ­å–œï¼æ‚¨çš„æµé‡æˆæœ¬å¾ˆä½ï¼Œåªéœ€è¦ <strong>${requiredCVR.toFixed(1)}%</strong> çš„è½¬åŒ–ç‡å°±èƒ½ä¿æœ¬ã€‚è¿™éå¸¸å®¹æ˜“èµšé’±ã€‚`;
                        action.innerText = "ç»§ç»­è·‘ï¼å¦‚æœå‡ºå•äº†ï¼Œè¿™å°±æ˜¯æ‚¨çš„ç‹ç‰Œç´ æï¼Œå¯ä»¥è€ƒè™‘åŠ é¢„ç®—ã€‚";
                    } else {
                        setStyle('info');
                        title.innerHTML = "âœ… è¡¨ç°æ­£å¸¸";
                        desc.innerHTML = "å„é¡¹æŒ‡æ ‡ä¸­è§„ä¸­çŸ©ï¼Œå¤„äºè¡Œä¸šå¹³å‡æ°´å¹³ã€‚";
                        action.innerText = "ç»§ç»­è§‚å¯Ÿï¼Œç­‰å¾…å‡ºå•æ•°æ®ã€‚";
                    }

                    // 6. Survival Analysis Details
                    const elReqCvr = document.getElementById('res-req-cvr');
                    const elDiff = document.getElementById('res-difficulty');
                    const elDiffDesc = document.getElementById('res-difficulty-desc');

                    if(clicks === 0) {
                        elReqCvr.innerText = "N/A";
                        elDiff.innerText = "æ— æ³•è®¡ç®—";
                        elDiff.className = "px-2 py-1 rounded text-xs font-bold bg-gray-200 text-gray-600";
                        elDiffDesc.innerText = "è¿˜æ²¡æœ‰ç‚¹å‡»äº§ç”Ÿï¼Œæ— æ³•ä¼°ç®—è½¬åŒ–éš¾åº¦ã€‚";
                    } else {
                        elReqCvr.innerText = requiredCVR.toFixed(2) + '%';
                        if(requiredCVR > 5) {
                            elDiff.innerText = "åœ°ç‹±éš¾åº¦";
                            elDiff.className = "px-2 py-1 rounded text-xs font-bold bg-red-100 text-red-700";
                            elDiffDesc.innerText = "æ™®é€šç‹¬ç«‹ç«™è½¬åŒ–ç‡ä»…ä¸º 1%-3%ã€‚æ‚¨éœ€è¦çš„è½¬åŒ–ç‡è¿œè¶…è¡Œä¸šæ ‡å‡†ï¼Œæå¤§æ¦‚ç‡äºæŸã€‚";
                        } else if (requiredCVR > 2.5) {
                            elDiff.innerText = "å›°éš¾";
                            elDiff.className = "px-2 py-1 rounded text-xs font-bold bg-orange-100 text-orange-700";
                            elDiffDesc.innerText = "ç•¥é«˜äºè¡Œä¸šå¹³å‡æ°´å¹³ï¼Œéœ€è¦ä¼˜ç§€çš„è½åœ°é¡µé…åˆã€‚";
                        } else if (requiredCVR < 1.5) {
                            elDiff.innerText = "å®¹æ˜“";
                            elDiff.className = "px-2 py-1 rounded text-xs font-bold bg-green-100 text-green-700";
                            elDiffDesc.innerText = "ä½äºè¡Œä¸šå¹³å‡æ°´å¹³ï¼Œåªè¦äº§å“æ²¡å¤§é—®é¢˜ï¼Œå¾ˆå®¹æ˜“ç›ˆåˆ©ã€‚";
                        } else {
                            elDiff.innerText = "æ­£å¸¸";
                            elDiff.className = "px-2 py-1 rounded text-xs font-bold bg-blue-100 text-blue-700";
                            elDiffDesc.innerText = "ç¬¦åˆè¡Œä¸šæ ‡å‡†ï¼Œèƒ½å¦èµšé’±å–å†³äºè½åœ°é¡µè´¨é‡ã€‚";
                        }
                    }
                });
            }

            // AI Tool Logic (Preserved)
            const btnCopy = document.getElementById('btn-generate-copy');
            if(btnCopy) {
                btnCopy.addEventListener('click', async function() {
                    // ... (AI Logic for Copy) ...
                });
            }
            const btnAudience = document.getElementById('btn-generate-audience');
            if(btnAudience) {
                btnAudience.addEventListener('click', async function() {
                    // ... (AI Logic for Audience) ...
                });
            }
        });
    </script>

</body>
</html>
